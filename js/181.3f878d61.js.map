{"version":3,"file":"js/181.3f878d61.js","mappings":"6KAESA,MAAM,+C,GACJA,MAAM,mB,WACqC,Q,GAC9CC,EAAAA,EAAAA,GAUS,UATPD,MAAM,iBACNE,KAAK,SACL,iBAAe,WACf,iBAAe,sBACf,gBAAc,qBACd,gBAAc,QACd,aAAW,qBAPb,EASED,EAAAA,EAAAA,GAAyC,QAAnCD,MAAM,0BATd,G,GAWKA,MAAM,2BAA2BG,GAAG,sB,GAClCH,MAAM,c,WAC4B,Q,WACc,Y,WAGH,Y,GAUxDC,EAAAA,EAAAA,GAAuC,MAAnCD,MAAM,oBAAmB,SAAK,G,oGA/BpCI,EAAAA,EAAAA,IAiCM,aAhCJH,EAAAA,EAAAA,GA6BM,MA7BN,EA6BM,EA5BJA,EAAAA,EAAAA,GA2BM,MA3BN,EA2BM,EA1BJI,EAAAA,EAAAA,IAAgEC,EAAA,CAAnDN,MAAM,eAAeO,GAAG,UAArC,C,kBAA8C,IAAI,M,MAClDC,GAWAP,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJI,EAAAA,EAAAA,IAAuDC,EAAA,CAA1CN,MAAM,WAAWO,GAAG,KAAjC,C,kBAAqC,IAAI,M,OACzCF,EAAAA,EAAAA,IAEcC,EAAA,CAFDN,MAAM,WAAWO,GAAG,mBAAjC,C,kBAAmD,IAEnD,M,OACAF,EAAAA,EAAAA,IAEcC,EAAA,CAFDN,MAAM,WAAWO,GAAG,gBAAjC,C,kBAAgD,IAEhD,M,SAEFN,EAAAA,EAAAA,GAES,UAFDD,MAAM,sBAAsBE,KAAK,SAAUO,QAAK,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,KAAQ,cAMxEC,EACmBC,EAAAA,cAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA8CC,EAAA,CAAAC,IAAAA,MAA9C,iBAKJ,OACEC,OACE,MAAO,CACLC,aAAa,IAGjBC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAC5B,gDACA,MAGF,GAAIH,EAAO,CACTI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAET,IAEtD,MAAMU,EAAO,yDACbN,KAAKC,MACFM,KAAKD,GACLE,MAAK,KACJR,KAAKP,aAAc,KAEpBgB,OAAMC,IACLC,MAAMD,EAAIlB,KAAKoB,SACfZ,KAAKa,QAAQd,QAAQ,kBAGzBY,MAAM,aACNX,KAAKa,QAAQC,KAAK,WAGtBC,SACE,MAAMT,EAAO,iDACbN,KAAKC,MAAMM,KAAKD,GAAKE,MAAKQ,IACpBA,EAAIxB,KAAKyB,UACXpB,SAASC,OAAS,qBAClBa,MAAM,SACNX,KAAKa,QAAQd,QAAQ,WAK7BmB,UACElB,KAAKL,e,UC5ET,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6/./src/views/Dashboard/DashboardView.vue","webpack://week6/./src/views/Dashboard/DashboardView.vue?c545"],"sourcesContent":["<template>\r\n  <div>\r\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div class=\"container-fluid\">\r\n        <router-link class=\"navbar-brand\" to=\"/admin\">後台首頁</router-link>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNavAltMarkup\"\r\n          aria-controls=\"navbarNavAltMarkup\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n          <div class=\"navbar-nav\">\r\n            <router-link class=\"nav-link\" to=\"/\">回到前台</router-link>\r\n            <router-link class=\"nav-link\" to=\"/admin/products\">\r\n              後台產品列表\r\n            </router-link>\r\n            <router-link class=\"nav-link\" to=\"/admin/order\">\r\n              後台訂單管理\r\n            </router-link>\r\n          </div>\r\n          <button class=\"btn btn-danger my-2\" type=\"button\" @click=\"logout\">\r\n            登出\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    <h2 class=\"text-center mt-4\">這裡是後台</h2>\r\n    <router-view v-if=\"adminStatus\"></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      adminStatus: false\r\n    }\r\n  },\r\n  methods: {\r\n    checkAdmin () {\r\n      const token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)myToken\\s*=\\s*([^;]*).*$)|^.*$/,\r\n        '$1'\r\n      )\r\n      // token 存在，存取登入權限\r\n      if (token) {\r\n        this.$http.defaults.headers.common.Authorization = `${token}`\r\n\r\n        const url = `${process.env.VUE_APP_API}/api/user/check`\r\n        this.$http\r\n          .post(url)\r\n          .then(() => {\r\n            this.adminStatus = true\r\n          })\r\n          .catch(err => {\r\n            alert(err.data.message)\r\n            this.$router.replace('/login')\r\n          })\r\n      } else {\r\n        alert('請重新登入 > <')\r\n        this.$router.push('/login')\r\n      }\r\n    },\r\n    logout () {\r\n      const url = `${process.env.VUE_APP_API}/logout`\r\n      this.$http.post(url).then(res => {\r\n        if (res.data.success) {\r\n          document.cookie = 'myToken=;expires=;'\r\n          alert('已成功登出')\r\n          this.$router.replace('/')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.checkAdmin()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DashboardView.vue?vue&type=template&id=6402c0b7\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","id","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_4","onClick","$options","_hoisted_10","$data","_createBlock","_component_router_view","key","data","adminStatus","methods","checkAdmin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","url","post","then","catch","err","alert","message","$router","push","logout","res","success","mounted","__exports__","render"],"sourceRoot":""}