"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[181],{6181:function(a,t,e){e.r(t),e.d(t,{default:function(){return g}});var s=e(6252);const n={class:"navbar navbar-expand-lg navbar-dark bg-dark"},o={class:"container-fluid"},r=(0,s.Uk)("後台首頁"),l=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},i={class:"navbar-nav"},u=(0,s.Uk)("回到前台"),d=(0,s.Uk)(" 後台產品列表 "),p=(0,s.Uk)(" 後台訂單管理 "),v=(0,s._)("h2",{class:"text-center mt-4"},"這裡是後台",-1);function h(a,t,e,h,k,b){const m=(0,s.up)("router-link"),g=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("nav",n,[(0,s._)("div",o,[(0,s.Wm)(m,{class:"navbar-brand",to:"/admin"},{default:(0,s.w5)((()=>[r])),_:1}),l,(0,s._)("div",c,[(0,s._)("div",i,[(0,s.Wm)(m,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(m,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(m,{class:"nav-link",to:"/admin/order"},{default:(0,s.w5)((()=>[p])),_:1})]),(0,s._)("button",{class:"btn btn-danger my-2",type:"button",onClick:t[0]||(t[0]=(...a)=>b.logout&&b.logout(...a))}," 登出 ")])])]),v,k.adminStatus?((0,s.wg)(),(0,s.j4)(g,{key:0})):(0,s.kq)("",!0)])}var k={data(){return{adminStatus:!1}},methods:{checkAdmin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.$http.defaults.headers.common.Authorization=`${a}`;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t).then((()=>{this.adminStatus=!0})).catch((a=>{alert(a.data.message),this.$router.replace("/login")}))}else alert("請重新登入 > <"),this.$router.push("/login")},logout(){const a="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(a).then((a=>{a.data.success&&(document.cookie="myToken=;expires=;",alert("已成功登出"),this.$router.replace("/"))}))}},mounted(){this.checkAdmin()}},b=e(3744);const m=(0,b.Z)(k,[["render",h]]);var g=m}}]);
//# sourceMappingURL=181.3f878d61.js.map